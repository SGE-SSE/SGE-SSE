<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SGI Ganesh Electricals - SSE</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    header { background: #333; color: #fff; padding: 10px; text-align: center; font-size: 20px; }
    .container { padding: 20px; max-width: 800px; margin: auto; }
    #searchBox { width: 100%; padding: 10px; font-size: 16px; margin-bottom: 5px; }
    #suggestions { border: 1px solid #ccc; display: none; max-height: 150px; overflow-y: auto; background: #fff; }
    #suggestions div { padding: 8px; cursor: pointer; }
    #suggestions div:hover { background: #f0f0f0; }
    #selectedItems { border: 1px solid #333; padding: 10px; margin-top: 15px; min-height: 50px; }
    .item { display: flex; justify-content: space-between; align-items: center; padding: 5px; background: #eee; margin-bottom: 5px; border-radius: 5px; }
    .removeBtn { cursor: pointer; color: red; font-weight: bold; }
    form { margin-top: 20px; }
    form input, form textarea { width: 100%; padding: 8px; margin: 5px 0; }
    button { margin-top: 10px; padding: 10px; width: 48%; font-size: 16px; }
    .btnRow { display: flex; justify-content: space-between; gap: 10px; }
  </style>
</head>
<body>

  <header>SGI GANESH ELECTRICALS - SSE</header>

  <div class="container">
    <p><strong>Categories:</strong> Wires • Cables • Conduit & Fittings • Fans • Appliances • Hardware • Lighting • Switchgear</p>

    <input type="text" id="searchBox" placeholder="Search your item...">
    <div id="suggestions"></div>

    <h3>Selected Items</h3>
    <div id="selectedItems"></div>

    <h3>Customer Details</h3>
    <form id="customerForm">
      <input type="text" id="custName" placeholder="Your Name" required>
      <input type="tel" id="custPhone" placeholder="Your Phone" required>
      <input type="email" id="custEmail" placeholder="Your Email">
      <textarea id="custMessage" rows="3" placeholder="Additional Message"></textarea>
    </form>

    <div class="btnRow">
      <button onclick="sendWhatsApp()">Send via WhatsApp</button>
      <button onclick="sendEmail()">Send via Email</button>
    </div>
  </div>

<script>
  const items = [
    "1.5 sqmm Copper Wire", "2.5 sqmm Copper Wire", "4 sqmm Copper Wire",
    "MCB 6A - 1 Way", "PVC Conduit 25mm", "Ceiling Fan", "LED Bulb 9W"
  ];

  const searchBox = document.getElementById("searchBox");
  const suggestions = document.getElementById("suggestions");
  const selectedItemsDiv = document.getElementById("selectedItems");
  let selectedItems = [];

  const normalize = str => str.toLowerCase().replace(/\s+/g, '');

  searchBox.addEventListener("input", function() {
    const query = normalize(this.value);
    suggestions.innerHTML = "";
    if (!query) { suggestions.style.display = "none"; return; }

    const matches = items.filter(item => normalize(item).includes(query));
    matches.forEach(match => {
      const div = document.createElement("div");
      div.textContent = match;
      div.onclick = () => addItem(match);
      suggestions.appendChild(div);
    });
    suggestions.style.display = matches.length ? "block" : "none";
  });

  function addItem(item) {
    if (!selectedItems.includes(item)) {
      selectedItems.push(item);
      renderSelected();
    }
    suggestions.style.display = "none";
    searchBox.value = "";
  }

  function renderSelected() {
    selectedItemsDiv.innerHTML = "";
    selectedItems.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `${item} <span class="removeBtn" onclick="removeItem(${index})">✖</span>`;
      selectedItemsDiv.appendChild(div);
    });
  }

  function removeItem(index) {
    selectedItems.splice(index, 1);
    renderSelected();
  }

  function sendWhatsApp() {
    const details = collectDetails();
    if (!details) return;
    const message = encodeURIComponent(`Customer Enquiry:\n\nItems:\n${selectedItems.join("\n")}\n\nCustomer Details:\nName: ${details.name}\nPhone: ${details.phone}\nEmail: ${details.email}\nMessage: ${details.message}`);
    window.open(`https://wa.me/918939825664?text=${message}`, "_blank");
  }

  function sendEmail() {
    const details = collectDetails();
    if (!details) return;
    const subject = encodeURIComponent("Customer Enquiry - Electrical Items");
    const body = encodeURIComponent(`Items:\n${selectedItems.join("\n")}\n\nCustomer Details:\nName: ${details.name}\nPhone: ${details.phone}\nEmail: ${details.email}\nMessage: ${details.message}`);
    window.location.href = `mailto:sseindiagkp@gmail.com?subject=${subject}&body=${body}`;
  }

  function collectDetails() {
    const name = document.getElementById("custName").value.trim();
    const phone = document.getElementById("custPhone").value.trim();
    const email = document.getElementById("custEmail").value.trim();
    const message = document.getElementById("custMessage").value.trim();
    if (!name || !phone) {
      alert("Please fill in Name and Phone.");
      return null;
    }
    return { name, phone, email, message };
  }
</script>

</body>
</html>
